{% extends 'base.html' %}
{% load static %}

{% block content %}

<style>
    @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .animate-up { animation: fadeUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; opacity: 0; }
    .delay-1 { animation-delay: 0.1s; }
    .delay-2 { animation-delay: 0.2s; }

    /* Custom Input Style */
    .form-control-custom {
        height: 50px;
        border-radius: 12px;
        border: 1px solid #e9ecef;
        background-color: #fcfcfc;
        padding-left: 20px;
        font-size: 14px;
        transition: all 0.3s;
    }
    .form-control-custom:focus {
        background-color: #fff;
        border-color: #2152ff;
        box-shadow: 0 4px 15px rgba(33, 82, 255, 0.1);
    }

    label {
        font-weight: 600;
        font-size: 13px;
        color: #344767;
        margin-bottom: 8px;
    }
</style>

<section class="section-content padding-y" style="background-color: #fff; min-height: 80vh;">
    {% include 'includes/alerts.html' %}

    <div class="container">
        <div class="row">

            {% include 'includes/dashboard_sidebar.html' %}

            <main class="col-md-9 animate-up delay-2">

                <article class="card border-0 shadow-sm" style="border-radius: 20px; border: 1px solid #f0f0f0;">

                    <header class="card-header bg-white border-bottom-0 pt-4 pl-4" style="border-radius: 20px 20px 0 0;">
                        <h5 class="d-inline-block font-weight-bold text-dark mb-0">
                            <i class="fas fa-lock text-primary mr-2"></i> Change Your Password
                        </h5>
                    </header>

                    <div class="card-body pt-2">
                        <div class="row justify-content-center"> <div class="col-md-8">

                                <form action="{% url 'change_password' %}" method="POST" class="mt-3">
                                    {% csrf_token %}

                                    <div class="form-group mb-4">
                                        <label>Current Password</label>
                                        <input type="password" name="current_password" placeholder="Enter your current password" class="form-control form-control-custom" required>
                                    </div>

                                    <div class="form-group mb-3">
                                        <label>Create New Password</label>
                                        <input type="password" name="new_password" placeholder="Enter new password" class="form-control form-control-custom" required>
                                    </div>

                                    <div class="form-group mb-4">
                                        <label>Confirm New Password</label>
                                        <input type="password" name="confirm_password" placeholder="Re-enter new password" class="form-control form-control-custom" required>
                                    </div>

                                    <button type="submit" class="btn btn-primary btn-block rounded-pill shadow-sm font-weight-bold py-3"
                                            style="background: linear-gradient(135deg, #2152ff 0%, #21d4fd 100%); border:none;">
                                        Update Password
                                    </button>

                                    <div class="text-center mt-3">
                                        <a href="{% url 'dashboard' %}" class="text-muted small">Cancel</a>
                                    </div>

                                </form>

                            </div>
                        </div> </div> </article>

            </main>
        </div> </div> </section>

{% endblock %}